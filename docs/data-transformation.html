<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | The mortality of occupations based on the salary and education level</title>
  <meta name="description" content="Chapter 3 Data transformation | The mortality of occupations based on the salary and education level" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | The mortality of occupations based on the salary and education level" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | The mortality of occupations based on the salary and education level" />
  
  
  

<meta name="author" content="Zhongtian Qiao &amp; Haoyuan Sun" />


<meta name="date" content="2022-04-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mortality_of_different_occupations</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#the-relationship-between-mortality-of-occupations-and-different-domain-of-jobs"><i class="fa fa-check"></i><b>1.1</b> The relationship between mortality of occupations and different domain of jobs<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#the-relationship-between-the-mortality-of-occupations-and-the-income"><i class="fa fa-check"></i><b>1.2</b> The relationship between the mortality of occupations and the income<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#the-relationship-between-mortality-of-occupations-and-education-level"><i class="fa fa-check"></i><b>1.3</b> The relationship between mortality of occupations and education level<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#education-and-training-assignments-by-detailed-occupation2020"><i class="fa fa-check"></i><b>2.1</b> Education and training assignments by detailed occupation(2020)<span></span></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-sources.html"><a href="data-sources.html#educational-attainment-distribution-for-workers-25-years-and-older-by-detailed-occupation"><i class="fa fa-check"></i><b>2.1.1</b> Educational attainment distribution for workers 25 years and older by detailed occupation<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="data-sources.html"><a href="data-sources.html#education-and-training-assignments-by-detailed-occupation"><i class="fa fa-check"></i><b>2.1.2</b> Education and training assignments by detailed occupation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#census-of-fatal-occupational-injuries2020"><i class="fa fa-check"></i><b>2.2</b> Census of Fatal Occupational Injuries(2020)<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#national-occupational-employment-and-wage-estimates"><i class="fa fa-check"></i><b>2.3</b> 2020 National Occupational Employment and Wage Estimates<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#education-and-training-assignments-by-detailed-occupation2020-1"><i class="fa fa-check"></i><b>3.1</b> Education and training assignments by detailed occupation(2020)<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-transformation.html"><a href="data-transformation.html#educational-attainment-distribution-for-workers-25-years-and-older-by-detailed-occupation-1"><i class="fa fa-check"></i><b>3.1.1</b> Educational attainment distribution for workers 25 years and older by detailed occupation<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="data-transformation.html"><a href="data-transformation.html#education-and-training-assignments-by-detailed-occupation-1"><i class="fa fa-check"></i><b>3.1.2</b> Education and training assignments by detailed occupation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#census-of-fatal-occupational-injuries2020-1"><i class="fa fa-check"></i><b>3.2</b> Census of Fatal Occupational Injuries(2020)<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#national-occupational-employment-and-wage-estimates-1"><i class="fa fa-check"></i><b>3.3</b> 2020 National Occupational Employment and Wage Estimates<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#national-occupational-employment-and-wage-estimates-2"><i class="fa fa-check"></i><b>4.1</b> 2020 National Occupational Employment and Wage Estimates<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#what-jobs-have-a-significantly-high-death-rate-do-they-have-any-features-in-common"><i class="fa fa-check"></i><b>5.1</b> What jobs have a significantly high death rate, do they have any features in common?<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#classify-by-major-occupation-groups"><i class="fa fa-check"></i><b>5.1.1</b> Classify by major occupation groups<span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#classify-by-detailed-occupations"><i class="fa fa-check"></i><b>5.1.2</b> Classify by detailed occupations<span></span></a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#top-10-mortality-rate-occupations"><i class="fa fa-check"></i><b>5.1.3</b> Top 10 mortality rate occupations<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#is-there-any-relationship-between-mortality-and-average-salary-does-one-get-paid-higher-if-he-is-doing-dangerous-jobs"><i class="fa fa-check"></i><b>5.2</b> Is there any relationship between mortality and average salary? Does one get paid higher if he is doing dangerous jobs?<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#is-there-any-relationship-between-mortality-and-education-level-if-a-job-has-higher-requirement-of-education-level-will-it-be-less-dangerous"><i class="fa fa-check"></i><b>5.3</b> Is there any relationship between mortality and education level? If a job has higher requirement of education level, will it be less dangerous?<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#the-relationship-between-annual-income-and-education-lelvel-needed-for-entry"><i class="fa fa-check"></i><b>5.4</b> The relationship between annual income and education lelvel needed for entry<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#section"><i class="fa fa-check"></i><b>6.1</b> </a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#what-jobs-have-a-significantly-high-death-rate-do-they-have-any-features-in-common-1"><i class="fa fa-check"></i><b>7.1</b> What jobs have a significantly high death rate, do they have any features in common?<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="conclusion.html"><a href="conclusion.html#is-there-any-relationship-between-mortality-and-average-salary-does-one-get-paid-higher-if-he-is-doing-dangerous-jobs-1"><i class="fa fa-check"></i><b>7.2</b> Is there any relationship between mortality and average salary? Does one get paid higher if he is doing dangerous jobs?<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="conclusion.html"><a href="conclusion.html#is-there-any-relationship-between-mortality-and-education-level-if-a-job-has-higher-requirement-of-education-level-will-it-be-less-dangerous-1"><i class="fa fa-check"></i><b>7.3</b> Is there any relationship between mortality and education level? If a job has higher requirement of education level, will it be less dangerous?<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="conclusion.html"><a href="conclusion.html#then-what-factors-affect-the-income-of-a-job"><i class="fa fa-check"></i><b>7.4</b> Then what factors affect the income of a job?<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The mortality of occupations based on the salary and education level</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation<a href="data-transformation.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="education-and-training-assignments-by-detailed-occupation2020-1" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Education and training assignments by detailed occupation(2020)<a href="data-transformation.html#education-and-training-assignments-by-detailed-occupation2020-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="educational-attainment-distribution-for-workers-25-years-and-older-by-detailed-occupation-1" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Educational attainment distribution for workers 25 years and older by detailed occupation<a href="data-transformation.html#educational-attainment-distribution-for-workers-25-years-and-older-by-detailed-occupation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>## # A tibble: 6 x 4
##   occupation             occupation_code education_level              percentage
##   &lt;chr&gt;                  &lt;chr&gt;           &lt;fct&gt;                             &lt;dbl&gt;
## 1 Total, all occupations 00-0000         Less than high school diplo~        8  
## 2 Total, all occupations 00-0000         High school diploma or equi~       23.6
## 3 Total, all occupations 00-0000         Some college, no degree            20.2
## 4 Total, all occupations 00-0000         Associate&#39;s degree                  9.6
## 5 Total, all occupations 00-0000         Bachelor&#39;s degree                  23.7
## 6 Total, all occupations 00-0000         Master&#39;s degree                    10.6</code></pre>
<p>For this data, we renamed the first two columns and dropped NA values by column “occupation_code”. Then we used pivot_longer to make it suitable for better analysis. Besides, there were some “(1)” in column occupation, we removed these “(1)”. Finally, we reordered the factor level of column education_level so that they were ranked from lowest to highest</p>
</div>
<div id="education-and-training-assignments-by-detailed-occupation-1" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Education and training assignments by detailed occupation<a href="data-transformation.html#education-and-training-assignments-by-detailed-occupation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>## # A tibble: 6 x 5
##   occupation  occupation_code `Typical educat~ `Work experienc~ `Typical on-the~
##   &lt;chr&gt;       &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           
## 1 Chief exec~ 11-1011         Bachelor&#39;s degr~ 5 years or more  None            
## 2 General an~ 11-1021         Bachelor&#39;s degr~ 5 years or more  None            
## 3 Legislators 11-1031         Bachelor&#39;s degr~ Less than 5 yea~ None            
## 4 Advertisin~ 11-2011         Bachelor&#39;s degr~ Less than 5 yea~ None            
## 5 Marketing ~ 11-2021         Bachelor&#39;s degr~ 5 years or more  None            
## 6 Sales mana~ 11-2022         Bachelor&#39;s degr~ Less than 5 yea~ None</code></pre>
<p>For this data, we renamed the first two columns and dropped NA values by column “occupation_code”.</p>
</div>
</div>
<div id="census-of-fatal-occupational-injuries2020-1" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Census of Fatal Occupational Injuries(2020)<a href="data-transformation.html#census-of-fatal-occupational-injuries2020-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>## # A tibble: 6 x 9
##   occupation  occupation_code Total_fatal_inj~ `Violence and o~ `Transportation~
##   &lt;chr&gt;       &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           
## 1 Management~ 11-0000         361              68               145             
## 2 Top execut~ 11-1000         40               13               14              
## 3 Chief exec~ 11-1010         16               7                5               
## 4 Chief exec~ 11-1011         16               7                5               
## 5 General an~ 11-1020         23               6                8               
## 6 General an~ 11-1021         23               6                8               
## # ... with 4 more variables: Fires and explosions &lt;chr&gt;,
## #   Falls, slips, trips &lt;chr&gt;,
## #   Exposure to harmful substances or environments &lt;chr&gt;,
## #   Contact with objects and equipment &lt;chr&gt;</code></pre>
<p>For this data, we renamed the first three columns and dropped NA values by column “occupation_code”.</p>
</div>
<div id="national-occupational-employment-and-wage-estimates-1" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> 2020 National Occupational Employment and Wage Estimates<a href="data-transformation.html#national-occupational-employment-and-wage-estimates-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this data set, We dropped some useless columns and some duplicated rows.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/qiaokk1/Mortality_of_different_occupations/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/qiaokk1/Mortality_of_different_occupations/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
